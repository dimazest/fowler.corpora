language: python

python:
  - "3.3"

before_install:
  - sudo rm -rf /dev/shm && sudo ln -s /run/shm /dev/shm
  - wget http://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh
  - chmod +x Miniconda3-latest-Linux-x86_64.sh
  - ./Miniconda3-latest-Linux-x86_64.sh -b
  - ~/miniconda3/bin/conda update -y conda
  - ~/miniconda3/bin/conda create -n fowler.corpora python=3.4
  - . ~/miniconda3/bin/activate fowler.corpora
install:
  - conda install -y pip cffi cython gensim ipython lxml matplotlib numexpr numpy openpyxl pandas patsy psutil python-dateutil pyyaml scikit-learn scipy seaborn tables
  - pip install tox
script:
  - tox

after_success:
  - pip install pytest-cov coveralls
  - tox -- --cov=fowler.corpora --cov-report=term-missing test
  - coveralls
  - conda list
